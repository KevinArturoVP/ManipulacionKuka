<?xml version="1.0" encoding="utf-8"?>

<robot name="assembly_kuka_simp">

  <material name="orange">
    <color rgba="0.933 0.635 0.309 1"/>
  </material>

  <material name="black">
    <color rgba="0.121 0.109 0.098 1"/>
  </material>

  <material name="platinum">
    <color rgba="0.835 0.815 0.803 1"/>
  </material>


  <link name="base_link">
    <inertial>
      <origin
        xyz="-0.001558 0.0 0.1124"
        rpy="0 0 0" />
      <mass
        value="48.9475" />
      <inertia
        ixx="0.53585"
        ixy="0.0"
        ixz="-0.00395"
        iyy="0.54899"
        iyz="-0.00001"
        izz="0.66970" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/base_link.dae" />
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/base_link.dae" />
      </geometry>
    </collision>
  </link>

  <link name="link_1">
    <inertial>
      <origin
        xyz="0.067038 -0.01448 0.09133"
        rpy="0 0 0" />
      <mass
        value="28.2722" />
      <inertia
        ixx="0.2912"
        ixy="-0.04226"
        ixz="0.1367"
        iyy="0.4828"
        iyz="-0.03051"
        izz="0.4624" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_1.dae" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.97 0.64 0.04 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_1.dae" />
      </geometry>
    </collision>
  </link>
  
  <joint name="base_to_link1" type="continuous">
    <origin
      xyz="0 0 0.2255"
      rpy="0 0 1.5686" />
    <parent link="base_link" />
    <child link="link_1" />
    <axis xyz="0 0 1" />
    <limit
      lower="-2.7053"
      upper="2.7053"
      effort="0"
      velocity="2.6878" />
  </joint>

  <link
    name="link_2">
    <inertial>
      <origin
        xyz="0.001942 -0.1737 0.26701"
        rpy="0 0 0" />
      <mass
        value="20.7503" />
      <inertia
        ixx="0.70458"
        ixy="-0.00057"
        ixz="0.00592"
        iyy="0.71816"
        iyz="-0.02276"
        izz="0.05679" />
    </inertial>
    <visual>
      <origin
        xyz="0 -0.27055 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_2.dae" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.933 0.635 0.309 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 -0.27055 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_2.dae" />
      </geometry>
    </collision>
  </link>

  <joint
    name="link1_to_link2"
    type="continuous">
    <origin
      xyz="0.18106 -0.002 0.178"
      rpy="0 0 0" />
    <parent
      link="link_1" />
    <child
      link="link_2" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-3.1416"
      upper="1.1345"
      effort="0"
      velocity="2.6878" />
  </joint>

  <link
    name="link_3">
    <inertial>
      <origin
        xyz="0.086086 -0.024557 0.10627"
        rpy="0 0 0" />
      <mass
        value="16.6002" />
      <inertia
        ixx="0.18666"
        ixy="0.04216"
        ixz="0.08152"
        iyy="0.23653"
        iyz="0.04962"
        izz="0.18575" />
    </inertial>
    <visual>
      <origin
        xyz="0 -0.13635 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_3.dae" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.933 0.635 0.309 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 -0.13635 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_3.dae" />
      </geometry>
    </collision>
  </link>

  <joint
    name="link2_to_link3"
    type="continuous">
    <origin
      xyz="0.0011745 0.002 0.59705"
      rpy="0 0 0" />
    <parent
      link="link_2" />
    <child
      link="link_3" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.2618"
      upper="2.7576"
      effort="0"
      velocity="3.9794" />
  </joint>

  <link
    name="link_4">
    <inertial>
      <origin
        xyz="0.19879 -0.00067831 0.0004912"
        rpy="0 0 0" />
      <mass
        value="8.6632" />
      <inertia
        ixx="0.08299"
        ixy="-0.00040"
        ixz="-0.00075"
        iyy="0.13232"
        iyz="-0.01710"
        izz="0.18882" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_4.dae" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.933 0.635 0.309 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_4.dae" />
      </geometry>
    </collision>
  </link>

  <joint
    name="link3_to_link4"
    type="continuous">
    <origin
      xyz="0.237 0 0.17"
      rpy="0 0 0" />
    <parent
      link="link_3" />
    <child
      link="link_4" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="-6.1087"
      upper="-6.1087"
      effort="0"
      velocity="5.969" />
  </joint>

  <link
    name="link_5">
    <inertial>
      <origin
        xyz="0.075375 -0.0070921 0"
        rpy="0 0 0" />
      <mass
        value="2.7234" />
<!-- INERCIAS DE ESTE LINK INCORRECTAS, CORREGIR -->
      <inertia
        ixx="0.08299"
        ixy="-0.00040"
        ixz="-0.00075"
        iyy="0.13232"
        iyz="-0.01710"
        izz="0.18882" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 -0.082318"
        rpy="1.5708 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_5.dae" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.933 0.635 0.309 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 -0.082318"
        rpy="1.5708 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_5.dae" />
      </geometry>
    </collision>
  </link>
  <joint
    name="link4_to_link5"
    type="continuous">
    <origin
      xyz="0.383 0.005 0"
      rpy="0 0 0" />
    <parent
      link="link_4" />
    <child
      link="link_5" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-2.2689"
      upper="2.2689"
      effort="0"
      velocity="6.7021" />
  </joint>

  <link
    name="link_6">
    <inertial>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <mass
        value="0.05109" />
      <inertia
        ixx="0.0000431"
        ixy="0.0"
        ixz="0.0"
        iyy="0.0000224"
        iyz="0.0"
        izz="0.0000227" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_6.dae" />
      </geometry>
      <material name="platinum"/>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://assembly_kuka_simp/meshes/link_6.dae" />
      </geometry>
    </collision>
  </link>

  <joint
    name="link5_to_link6"
    type="continuous">
    <origin
      xyz="0.193 -0.003 0"
      rpy="1.3396 0 0" />
    <parent
      link="link_5" />
    <child
      link="link_6" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="-6.1087"
      upper="6.1087"
      effort="0"
      velocity="12.584" />
  </joint>
	
  <!-- ******************** GRIPPER *********************-->
	<link
    name="base_link_grp">
    <inertial>
      <origin
        xyz="-0.12444 0.015119 0.11802"
        rpy="0 0 0" />
      <mass
        value="4.3869E-05" />
      <inertia
        ixx="2.7228E-08"
        ixy="3.0486E-12"
        ixz="-9.7953E-11"
        iyy="5.2891E-08"
        iyz="-8.2542E-13"
        izz="2.5932E-08" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/base_link_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79 0.9 0.48 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/base_link_grp.STL" />
      </geometry>
    </collision>
  </link>
  
  <joint
    name="link6_to_bgrp"
    type="fixed">
    <origin
      xyz="0.005 0 0"
      rpy="0 0 0" />
    <parent
      link="link_6" />
    <child
      link="base_link_grp" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="-6.1087"
      upper="6.1087"
      effort="0"
      velocity="12.584" />
  </joint>
  
  <link
    name="structure_grp">
    <inertial>
      <origin
        xyz="-0.00021291 0.023532 3.5559E-05"
        rpy="0 0 0" />
      <mass
        value="0.00035228" />
      <inertia
        ixx="3.1958E-07"
        ixy="-1.5683E-10"
        ixz="-2.4056E-09"
        iyy="5.08E-07"
        iyz="-5.9261E-10"
        izz="3.2245E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/structure_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79 0.9 0.48 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/structure_grp.STL" />
      </geometry>
    </collision>
  </link>
  
  <joint
    name="base_to_str_grp"
    type="fixed">
    <origin
      xyz="0.0063 0 0"
      rpy="0 0 0" />
    <parent
      link="base_link_grp" />
    <child
      link="structure_grp" />
    <axis
      xyz="1 0 0" />
  </joint>

  <link
    name="guide_1_grp">
    <inertial>
      <origin
        xyz="0 0.009 0.027502"
        rpy="0 0 0" />
      <mass
        value="2.1395E-05" />
      <inertia
        ixx="5.8843E-09"
        ixy="1.1603E-18"
        ixz="4.0999E-18"
        iyy="6.0491E-09"
        iyz="-7.7428E-11"
        izz="1.5164E-09" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0 0 0 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
    </collision>
  </link>
  
  <joint
    name="str_to_g1_grp"
    type="prismatic">
    <origin
      xyz="0.0321 0 -0.0043"
      rpy="3.1416 0 0" />
    <parent
      link="structure_grp" />
    <child
      link="guide_1_grp" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0.005"
      effort="0"
      velocity="0.05" />
  </joint>

  <link
    name="guide_2_grp">
    <inertial>
      <origin
        xyz="0 0.00945024176112787 0.0275015665025582"
        rpy="0 0 0" />
      <mass
        value="2.13946053960986E-05" />
      <inertia
        ixx="5.88431731307912E-09"
        ixy="1.15652657683827E-18"
        ixz="4.16310883451617E-18"
        iyy="6.04914588284188E-09"
        iyz="-7.74283160161931E-11"
        izz="1.51641396909182E-09" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0 0 0 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="str_to_g2_grp"
    type="prismatic">
		#-0.0037239 0.0321 0.00215
    <origin
      xyz="0.0321 -3.724E-3 2.15E-3"
      rpy="1.0472 0 0" />
    <parent
      link="structure_grp" />
    <child
      link="guide_2_grp" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0.005"
      effort="0"
      velocity="0.05" />
  </joint>

  <link
    name="guide_3_grp">
    <inertial>
      <origin
        xyz="0.0087239 0.0094502 0.025291"
        rpy="0 0 0" />
      <mass
        value="2.1395E-05" />
      <inertia
        ixx="5.8843E-09"
        ixy="1.1603E-18"
        ixz="4.0999E-18"
        iyy="6.0491E-09"
        iyz="-7.7428E-11"
        izz="1.5164E-09" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0 0 0 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/guide_1_grp.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="str_to_g3_grp"
    type="prismatic">
		#-0.0037239 0.0321 0.00215
    <origin
      xyz="0.0321 3.724E-3 2.15E-3"
      rpy="5.236 0 0" />
    <parent
      link="structure_grp" />
    <child
      link="guide_3_grp" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0.005"
      effort="0"
      velocity="0.05" />
  </joint>

  <link
    name="finger1_grp">
    <inertial>
      <origin
        xyz="0.0099787 0.037092 0.006"
        rpy="0 0 0" />
      <mass
        value="0.03384" />
      <inertia
        ixx="1.5168E-05"
        ixy="5.5629E-06"
        ixz="5.5057E-21"
        iyy="6.9613E-06"
        iyz="-2.9646E-21"
        izz="2.1317E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.75294 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="g1_to_f1_grp"
    type="fixed">
  #0.006 0.0209 0.0165  
  <origin
      xyz="0.0209 -0.0053 0.0165"
      rpy="0 1.5708 0" />
    <parent
      link="guide_1_grp" />
    <child
      link="finger1_grp" />
    <axis
      xyz="0 0 0" />
  </joint>

  <link
    name="finger2_grp">
    <inertial>
      <origin
        xyz="0.0099787 0.037092 0.006"
        rpy="0 0 0" />
      <mass
        value="0.03384" />
      <inertia
        ixx="1.5168E-05"
        ixy="5.5629E-06"
        ixz="4.768E-23"
        iyy="6.9613E-06"
        iyz="1.4988E-22"
        izz="2.1317E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.75294 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="g2_to_f2_grp"
    type="fixed">
  <origin
      xyz="0.0209 -0.0053 0.0165"
      rpy="0 1.5708 0" />
    <parent
      link="guide_2_grp" />
    <child
      link="finger2_grp" />
    <axis
      xyz="0 0 0" />
  </joint>

  <link
    name="finger3_grp">
    <inertial>
      <origin
        xyz="0.0099787 0.037092 0.006"
        rpy="0 0 0" />
      <mass
        value="0.03384" />
      <inertia
        ixx="1.5168E-05"
        ixy="5.5629E-06"
        ixz="-6.7763E-21"
        iyy="6.9613E-06"
        iyz="4.6587E-21"
        izz="2.1317E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.75294 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://gripper_schunk_kuka/meshes/finger1_grp.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="g3_to_f3_grp"
    type="fixed">
  <origin
      xyz="0.0209 -0.0053 0.0165"
      rpy="0 1.5708 0" />
    <parent
      link="guide_3_grp" />
    <child
      link="finger3_grp" />
    <axis
      xyz="0 0 0" />
  </joint>

  <!-- This block connects the head_swivel joint to an actuator (motor), which informs both
  simulation and visualization of the robot -->
  <transmission name="trans_b_1">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_b_1">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="base_to_link1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <transmission name="trans_1_2">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_1_2">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="link1_to_link2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <transmission name="trans_2_3">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_2_3">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="link2_to_link3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <transmission name="trans_3_4">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_3_4">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="link3_to_link4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <transmission name="trans_4_5">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_4_5">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="link4_to_link5">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <transmission name="trans_5_6">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="$motor_5_6">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
    <joint name="link5_to_link6">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
  </transmission>

  <link name="world"/>
  <joint name="world_base" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>

  <!-- Gazebo plugin for ROS Control -->
  <gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotNamespace>/</robotNamespace>
    </plugin>
  </gazebo>

</robot>
